{"version":3,"file":"js/78.chunk.js","sources":["webpack:///./src/app/+auth/+forgot/forgot.component.ts","webpack:///./src/app/+auth/+forgot/forgot-routing.module.ts","webpack:///./src/app/+auth/+forgot/forgot.module.ts","webpack:///./src/app/+auth/+forgot/forgot.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport {Router} from \"@angular/router\";\nimport {AuthService} from \"../auth.service\";\nimport {SecretQuestion} from \"../../models/SecretQuestion\";\nimport {NotificationService} from \"../../shared/utils/notification.service\";\n\n@Component({\n  selector: 'app-forgot',\n  template: require('./forgot.component.html'),\n  styles: [],\n  providers: [AuthService, NotificationService]\n})\nexport class ForgotComponent implements OnInit {\n\n  private formErrors: any = {};\n  private validUser: boolean = false;\n  private userEmail: string;\n  private userSecretQuestion: SecretQuestion = new SecretQuestion;\n  private userSecretQuestionAnswer: string;\n\n  constructor(private router: Router,\n              private authService: AuthService,\n              private notificationService: NotificationService) { }\n\n  ngOnInit() {\n  }\n\n  checkUser() {\n    this.authService.getUserSecretQuestion(this.userEmail)\n        .subscribe((secretQuestion) => {\n          this.formErrors = {};\n          this.userSecretQuestion = secretQuestion;\n          this.validUser = true;\n        }, (errors)=> {\n          this.validUser = false;\n          this.formErrors = {};\n          if (errors.status == 404) {\n            this.formErrors['userEmail'] = 'Email Address does not exist.';\n          }\n          console.log(errors);\n        });\n  }\n\n  cancel() {\n    this.router.navigate(['/dashboard/analytics']);\n  }\n\n  submit(event){\n    event.preventDefault();\n    this.authService.requestResetPassword(this.userEmail, this.userSecretQuestionAnswer)\n        .subscribe(() => {\n          this.notificationService.smallBox({\n            title: \"Email has been sent\",\n            content: \"Follow the instructions in the email to reset your password.\",\n            color: \"#739E73\",\n            timeout: 7000,\n            icon: \"fa fa-check\"\n          });\n          this.router.navigate(['/dashboard/analytics'])\n        }, (errors) => {\n          this.formErrors = {};\n          if (errors.status == 401) {\n            this.formErrors['answer'] = 'Answer does not match.';\n          }\n        });\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// node_modules/angular2-template-loader!./~/angular-router-loader/src!./src/app/+auth/+forgot/forgot.component.ts","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\nimport {ForgotComponent} from \"./forgot.component\";\n\nconst routes: Routes = [{\n  path: '',\n  component: ForgotComponent\n}];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n  providers: []\n})\nexport class ForgotRoutingModule { }\n\n\n\n// WEBPACK FOOTER //\n// node_modules/angular2-template-loader!./~/angular-router-loader/src!./src/app/+auth/+forgot/forgot-routing.module.ts","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { ForgotRoutingModule } from './forgot-routing.module';\nimport { ForgotComponent } from './forgot.component';\nimport { FormsModule } from \"@angular/forms\";\nimport { AuthModule } from \"../auth.module\";\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    ForgotRoutingModule\n  ],\n  declarations: [ForgotComponent]\n})\nexport class ForgotModule { }\n\n\n\n// WEBPACK FOOTER //\n// node_modules/angular2-template-loader!./~/angular-router-loader/src!./src/app/+auth/+forgot/forgot.module.ts","module.exports = \"<header id=\\\"header\\\" class=\\\"animated fadeInDown\\\">\\n\\n  <div id=\\\"logo-group\\\">\\n    <span id=\\\"logo\\\"> <img src=\\\"assets/img/logo.png\\\" alt=\\\"SmartAdmin\\\"> </span>\\n  </div>\\n\\n  <span id=\\\"extr-page-header-space\\\"> <span class=\\\"hidden-mobile hiddex-xs\\\">Need an account?</span> <a routerLink=\\\"/auth/register\\\" class=\\\"btn btn-danger\\\">Create account</a> </span>\\n\\n</header>\\n<div id=\\\"main\\\" role=\\\"main\\\" class=\\\"animated fadeInDown\\\">\\n\\n  <div id=\\\"content\\\" class=\\\"container\\\">\\n\\n    <div class=\\\"row\\\">\\n      <div class=\\\"col-xs-12 col-sm-12 col-md-5 col-lg-4\\\">\\n        <div class=\\\"well no-padding\\\">\\n          <form #forgotPasswordForm=\\\"ngForm\\\" id=\\\"login-form\\\" class=\\\"smart-form client-form\\\">\\n            <header>\\n              Forgot Password\\n            </header>\\n\\n            <fieldset>\\n\\n              <section>\\n                <label class=\\\"label\\\">Enter your email address</label>\\n                <label class=\\\"input\\\"> <i class=\\\"icon-append fa fa-envelope\\\"></i>\\n                  <input type=\\\"email\\\" name=\\\"email\\\" #email=\\\"ngModel\\\" [disabled]=\\\"validUser\\\" [(ngModel)]=\\\"userEmail\\\" required>\\n                  <b class=\\\"tooltip tooltip-top-right\\\"><i class=\\\"fa fa-envelope txt-color-teal\\\"></i> Please enter email address for password reset</b></label>\\n                <div *ngIf=\\\"formErrors['userEmail']\\\" class=\\\"alert alert-danger\\\">\\n                  {{ formErrors['userEmail'] }}\\n                </div>\\n              </section>\\n              <section *ngIf=\\\"validUser\\\">\\n                <p>Answer Secret Question <span class=\\\"text-danger required-field-marker\\\">*</span></p>\\n                <label class=\\\"label\\\">{{ userSecretQuestion.question }}</label>\\n                <label class=\\\"input\\\"> <i class=\\\"icon-append fa fa-user\\\"></i>\\n                  <input type=\\\"text\\\" name=\\\"answer\\\" [(ngModel)]=\\\"userSecretQuestionAnswer\\\" required/>\\n                </label>\\n                <div *ngIf=\\\"formErrors['answer']\\\" class=\\\"alert alert-danger\\\">\\n                  {{ formErrors['answer'] }}\\n                </div>\\n                <div class=\\\"note\\\">\\n                  <a routerLink=\\\"/auth/login\\\">I remembered my password!</a>\\n                </div>\\n              </section>\\n\\n            </fieldset>\\n            <footer>\\n              <button (click)=\\\"cancel()\\\" class=\\\"btn\\\">Cancel</button>\\n              <button *ngIf=\\\"!validUser\\\" (click)=\\\"checkUser()\\\" class=\\\"btn btn-primary\\\">Next</button>\\n              <button *ngIf=\\\"validUser\\\" (click)=\\\"submit($event)\\\" class=\\\"btn btn-primary\\\" [disabled]=\\\"!userSecretQuestionAnswer\\\">\\n                <i class=\\\"fa fa-refresh\\\"></i> Reset Password\\n              </button>\\n            </footer>\\n          </form>\\n\\n        </div>\\n       </div>\\n    </div>\\n  </div>\\n\\n</div>\\n\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/+auth/+forgot/forgot.component.html\n// module id = 2300\n// module chunks = 78"],"mappings":";;;;;;;AAAA;AACA;AACA;AACA;AACA;AAQA;AAQA;AAAA;AACA;AACA;AARA;AACA;AAEA;AAKA;AAEA;AACA;AAEA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAtDA;AANA;AACA;AACA;AACA;AACA;AACA;AASA;AA8CA;AAtDA;;;;;;;;;;;ACZA;AACA;AACA;AAEA;AACA;AACA;AACA;AAOA;AAAA;AAAA;AAAA;AAAA;AAAA;AALA;AACA;AACA;AACA;AACA;;AACA;AAAA;;;;;;;;;;ACdA;AACA;AACA;AACA;AACA;AAWA;AAAA;AAAA;AAAA;AAAA;AAAA;AARA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA;AAAA;;;;;;;;ACfA;;;;A","sourceRoot":""}